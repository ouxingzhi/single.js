define("mvc/block.js",["base/base","common/funs","base/event"],function(require){function t(t){var s=(t||"").replace(/^\s+|\s+$/g,"").split(/\s+/);return{event:s.shift(),selector:s.join(" ")}}function s(s,i,n){s=s||{},e.each(s,function(s,o){var a=t(o),s=e.bind("function"==typeof s?s:noop,n||this);i.on(a.event,a.selector,s)},this)}var e=require("base/base"),i=require("common/funs"),n=require("base/event"),o=(i.createAddSelf(1500),"cur-block-view"),a="block-view";return n.extend({propertys:function(){this.box,this.forward=!1,this.views={},this.transition=null},getPreFix:function(){return"block"},initialize:function($super,t){$super(t),this.setOption(t)},setOption:function(t){t=t||{},e.isNUL(t.box)||(this.box=t.box)},to:function(t,e){var i=this.getPreFix()+t,n=this.box.find("#"+i);if(n.length||(n=$('<div class="'+a+'" id="'+i+'"></div>'),this.box.append(n)),e.template){var r=e.data||{},l=_.template(e.template)(r);if(n.html(l),e.events&&(n.off(),s(e.events,n,e.space)),this.transition){var c=n.siblings("."+o);c.length?this.forward?this.transition.into(c,n,function(){c.removeClass(o),n.addClass(o)}):this.transition.out(c,n,function(){c.removeClass(o),n.addClass(o)}):n.addClass(o)}else n.siblings().removeClass(o),n.addClass(o)}},setForward:function(t){this.forward=t,console.log(this.forward)}})});