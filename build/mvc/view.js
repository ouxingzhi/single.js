define("mvc/view.js",["base/base","base/event","common/funs","common/scroll"],function(require,t,n){function i(){}function a(t){var n=(t||"").replace(/^\s+|\s+$/g,"").split(/\s+/);return{event:n.shift(),selector:n.join(" ")}}function e(){var t=this.events||{};o.each(t,function(t,n){var e=a(n),t=o.bind("function"==typeof t?t:this[t]||i,this);this.root.on(e.event,e.selector,t)},this)}var o=require("base/base"),s=require("base/event"),r=require("common/funs"),h=(require("common/scroll"),function(t){var n=+new Date;return function(){return"page"+n+t()}}(r.createAddSelf())),f="viewroot-box",c="viewroot",u=s.extend({elastic:!0,propertys:function(t,n,i,a){this.id=h(),this.root=$('<div class="'+f+'"><div class="'+c+'"></div></div>'),this.el=this.root.find("."+c),this.root.attr("id",this.id),this.root.hide(),this.on("addframe",function(){}),e.call(this),this.frame=i,this.app=a,this.name=t,this.hashdata=n,this.onCreate()},setHashData:function(t){this.hashdata=t},getRoot:function(){return this.root},turning:function(){this.frame.turning()},onCreate:function(){},onLoad:function(){},onShow:function(){},onHide:function(){},forward:function(){this.app.forward.apply(this.app,arguments)},isForward:function(){return this.hashdata.forward},replace:function(){this.app.replace.apply(this.app,arguments)},back:function(){this.app.back.apply(this.app,arguments)},header:function(t){t=t||{}},toHead:function(t,n){this.frame.toHead(t,n)},showToast:function(){this.frame.showToast.apply(this.frame,arguments)},hideToast:function(){this.frame.hideToast.apply(this.frame,arguments)},showAlert:function(t){this.frame.showAlert.apply(this.frame,arguments)},hideAlert:function(){this.frame.hideAlert.apply(this.frame,arguments)},showLoading:function(t){this.frame.showLoading.apply(this.frame,arguments)},hideLoading:function(){this.frame.hideLoading.apply(this.frame,arguments)}});return u});