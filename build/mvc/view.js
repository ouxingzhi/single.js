define("SINGLE/mvc/view.js",["SINGLE/base/base","SINGLE/base/event","SINGLE/common/funs"],function(require,t,e){function i(){}function n(t){var e=(t||"").replace(/^\s+|\s+$/g,"").split(/\s+/);return{event:e.shift(),selector:e.join(" ")}}function a(){var t=this.events||{};s.each(t,function(t,e){var a=n(e),t=s.bind("function"==typeof t?t:this[t]||i,this);this.root.on(a.event,a.selector,t)},this)}var s=require("SINGLE/base/base"),o=require("SINGLE/base/event"),r=require("SINGLE/common/funs"),h=(function(t){var e=+new Date;return function(){return"page"+e+t()}}(r.createAddSelf()),"viewroot-box"),f="viewroot-bg",u="viewroot",d=o.extend({elastic:!0,propertys:function(t,e,i,n){this.$=function(t){return this.el.find(t)}.bind(this),this.id=e.view,this.root=$('<div class="'+h+'"><div class="'+f+'"></div><div class="'+u+'"></div></div>'),this.el=this.root.find("."+u),this.root.attr("id",this.id),this.root.hide(),this.on("addframe",function(){}),a.call(this),this.frame=i,this.app=n,this.name=t,this.hashdata=e,this.onCreate(),this.emit("onCreate")},$P:function(t,e){return this.hashdata.path[t]||e},$Q:function(t,e){return this.hashdata.query[t]?decodeURIComponent(this.hashdata.query[t]):e},setHashData:function(t){this.hashdata=t},getRoot:function(){return this.root},getRootBg:function(){return this.root.find("."+f)},turning:function(){this.frame.turning.apply(this.frame,arguments)},onCreate:function(){},onLoad:function(){},onShow:function(){},onHide:function(){},forward:function(){this.app.forward.apply(this.app,arguments)},isForward:function(){return this.hashdata.forward},replace:function(){this.app.replace.apply(this.app,arguments)},back:function(){this.app.back.apply(this.app,arguments)},toHead:function(t,e){this.frame.toHead(t,e)},showToast:function(){this.frame.showToast.apply(this.frame,arguments)},hideToast:function(){this.frame.hideToast.apply(this.frame,arguments)},showAlert:function(t){this.frame.showAlert.apply(this.frame,arguments)},hideAlert:function(){this.frame.hideAlert.apply(this.frame,arguments)},showLoading:function(t){this.frame.showLoading.apply(this.frame,arguments)},hideLoading:function(){this.frame.hideLoading.apply(this.frame,arguments)},showHeader:function(){this.frame.showHeader.apply(this.frame,arguments)},hideHeader:function(){this.frame.hideHeader.apply(this.frame,arguments)},getHeaderRoot:function(){return this.frame.header.getRoot()}});return d});