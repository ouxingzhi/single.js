define("SINGLE/base/date.js",["base/class"],function(require){var n=require("base/class"),e=/[a-z]/gi,t=n({propertys:function(){this.date},initialize:function(n){t.parse(n||new Date)}}),r={d:function(n){var e=n.getDate();return 10>e?"0"+e:e},j:function(n){return n.getDate()},N:function(n){var e=n.getDay();return 0===e?7:e},w:function(n){return n.getDay()},m:function(n){var e=n.getMonth()+1;return 10>e?"0"+e:e},n:function(n){return n.getMonth()+1},Y:function(n){return n.getFullYear()},y:function(n){return String(n.getFullYear()).replace(/^\d{2}/,"")},g:function(n){var e=n.getHours();return e>12?e-12:e},G:function(n){return n.getHours()},h:function(n){var e=n.getHours();return e=e>12?e-12:e,10>e?"0"+e:e},H:function(n){var e=n.getHours();return 10>e?"0"+e:e},i:function(n){var e=n.getMinutes();return 10>e?"0"+e:e},I:function(n){var e=n.getMinutes();return e},s:function(n){var e=n.getSeconds();return 10>e?"0"+e:e},S:function(n){var e=n.getSeconds();return e},O:function(n){var e=new Date,r=t.diffDay(e,n),u={1:"昨天",0:"今天"};return u[r]||""}};t.format=function(n,t){return t.replace(e,function(e){return r[e]?r[e](n):e})},t.diffDay=function(n,e){n=new Date(n.valueOf()),e=new Date(e.valueOf()),n.setHours(0,0,0,1),e.setHours(0,0,0,1);var t=(n-e)/864e5;return t},t.parse=function(n){return new Date("number"==typeof n?n:Date.parse(n.replace(/-/g,"/")))};var u=864e5,a=36e5,i=6e4;return t.diffFormat=function(n,e){e=e||new Date;var t=e-n,r=parseInt(t/u),o=parseInt(t%u/a),f=parseInt(t%a/i);return{d:r,h:o,i:f}},t});