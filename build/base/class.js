define("base/class",["base/base"],function(require,t,n){"use strict";function i(){}function r(t,n){return t=t||i,n=n||i,function(){var i=[p.bind(t,this)].concat(p.toArray(arguments));return n.apply(this,i)}}function e(t){var n=function(){};return n.prototype=t.prototype,new n}function o(t,n){function p(){if(!(this instanceof p)){var t=e(p);return p.apply(t,arguments),t}this.propertys.apply(this,arguments),this.initialize.apply(this,arguments)}function c(){}"object"==typeof t&&(n=t,t=function(){});var y,f=t.prototype;c.prototype=t.prototype,p.prototype=new c;for(y in n)n.hasOwnProperty(y)&&u[y]!==a&&(p.prototype[y]="function"==typeof f[y]&&n[y].toString().match(s)?r(f[y],n[y]):n[y]);p.prototype.propertys=function(t,n){return function(){t&&t.apply(this,arguments),n&&n.apply(this,arguments)}}(p.prototype.propertys,n.propertys),p.prototype.initialize=n.initialize&&n.initialize.toString().match(s)?r(f.initialize,n.initialize):n.initialize||i,p.prototype.constructor=p;for(y in t)t.hasOwnProperty(y)&&"instance"!==y&&(p[y]=t[y]);return p.extend=function(t){return o(this,t)},p.addPropertys=function(t){var n=this.prototype;for(y in t)t.hasOwnProperty(y)&&u[y]!==a&&(n[y]="function"==typeof n[y]&&t[y].toString().match(s)?r(n[y],t[y]):t[y]);return this},p.getInstance=function(){return this.instance?this.instance:(this.instance={__proto__:this.prototype},this.apply(this.instance,arguments),this.instance)},p}var p=require("base/base"),s=/^\s*function[^\(\)]*\(\s*\$super/,a={},u={constrcutor:a,propertys:a,initialize:a};return o});