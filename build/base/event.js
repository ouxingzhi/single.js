define("SINGLE/base/event.js",["base/base","base/object","base/var"],function(require,n,e){var t=require("base/base"),i=require("base/object"),v=require("base/var"),a=i.extend({propertys:function(){this.__event=v({})},initialize:function($super,n){$super(n)},on:function(n,e,i,v){var a=this.__event;a.v[n]=a.v[n]||[],v&&-1!==t.indexOf(a.v[n],function(n){return e===n.fn})||a.v[n].push({fn:e,space:i})},one:function(n,e,t,i){var v=this,a=function(){e.apply(v,arguments),v.off(n,a)};v.on(n,a,t,i)},off:function(n,e){if(!n&&!e)return this.__event.v.del(),void(this.__event=v({}));var i,a=this.__event;a.v[n]=a.v[n]||[],e?(i=t.indexOf(a.v[n],function(n){return e===n.fn}),i>-1&&a.v[n].splice(i,1)):a.v[n]=[]},emit:function(n){var e=this.__event,i=this;e.v[n]=e.v[n]||[];var v=t.toArray(arguments);v.shift(),t.each(e.v[n],function(n){n.fn.apply(n.space||i,v)})}});return a});