define("base/event",["base/base","base/object","base/var"],function(require,e,n){var t=require("base/base"),v=require("base/object"),s=require("base/var"),a=v.extend({propertys:function(){this.__event=s({})},on:function(e,n,v,s){var a=this.__event;a.v[e]=a.v[e]||[],s&&-1!==t.indexOf(a.v[e],function(e){return n===e.fn})||a.v[e].push({fn:n,space:v})},off:function(e,n){if(!e&&!n)return this.__event.v.del(),void(this.__event=s({}));var t,v=this.__event;v.v[e]=v.v[e]||[],n?(t=ase.indexOf(v.v[e],function(e){return n===e.fn}),t>-1&&v.v[e].splice(t,1)):v.v[e]=[]},emit:function(e,n){var v=this.__event,s=this;v.v[e]=v.v[e]||[];var a=t.toArray(arguments);a.shift(),t.each(v.v[e],function(e){e.fn.apply(e.space||s,a)})}});return a});