define("SINGLE/base/event.js",["SINGLE/base/base","SINGLE/base/object","SINGLE/base/var"],function(require,e,n){var t=require("SINGLE/base/base"),i=require("SINGLE/base/object"),v=require("SINGLE/base/var"),a=i.extend({propertys:function(){this.__event=v({})},initialize:function($super,e){$super(e)},on:function(e,n,i,v){var a=this.__event;a.v[e]=a.v[e]||[],v&&-1!==t.indexOf(a.v[e],function(e){return n===e.fn})||a.v[e].push({fn:n,space:i})},one:function(e,n,t,i){var v=this,a=function(){n.apply(v,arguments),v.off(e,a)};v.on(e,a,t,i)},off:function(e,n){if(!e&&!n)return this.__event.v.del(),void(this.__event=v({}));var t,i=this.__event;i.v[e]=i.v[e]||[],n?(t=ase.indexOf(i.v[e],function(e){return n===e.fn}),t>-1&&i.v[e].splice(t,1)):i.v[e]=[]},emit:function(e){var n=this.__event,i=this;n.v[e]=n.v[e]||[];var v=t.toArray(arguments);v.shift(),t.each(n.v[e],function(e){e.fn.apply(e.space||i,v)})}});return a});