define("SINGLE/ui/layer.js",["base/base","ui/base","ui/object","ui/mask"],function(require){var t=require("base/base"),s=require("ui/base"),i=require("ui/object"),e=require("ui/mask");return i.extend({propertys:function(){this.offsetX=0,this.offsetY=0,this.useMask=!0,this.mask=null,this.maskOpacity=!0,this.on("create",function(){this.$el.addClass("ui-layer"),this.useMask&&(this.mask=new e)}),this.on("show",function(){this.startAutoPosition(),this.useMask&&(this.mask.show(!this.maskOpacity),this.mask.topIndex()),this.updatePosition(),setTimeout(function(){this.updatePosition()}.bind(this),0),this.topIndex()}),this.on("hide",function(){this.useMask&&this.mask.hide(),this.endAutoPosition()}),this.on("resize",function(){this.updatePosition()})},initialize:function($super,t){$super(t)},setOption:function($super,s){s=s||{},$super(s),t.isNUL(s.offsetX)||(this.offsetX=s.offsetX),t.isNUL(s.offsetY)||(this.offsetY=s.offsetY),t.isNUL(s.useMask)||(this.useMask=s.useMask),t.isNUL(s.maskOpacity)||(this.maskOpacity=s.maskOpacity)},getPosInfo:function(){if(this.$el&&this.$el.length){var t=s.getOffsetByPage(this.$el[0]),i=s.getPageSize();return{top:t.top,left:t.left,width:this.$el.width(),height:this.$el.height(),pageWidth:i.width,pageHeight:i.height}}return null},updatePosition:function(){var t=this.getPosInfo();t&&this.$el.css({"margin-left":-t.width/2+this.offsetX+"px","margin-top":-t.height/2+this.offsetY+"px"})},createHTML:function(){return""},show:function($super,s){s&&!t.isNUL(s.maskOpacity)&&(this.maskOpacity=s.maskOpacity),$super(s)}})});