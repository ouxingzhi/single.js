define("ui/layer.js",["base/base","ui/base","ui/object","ui/mask"],function(require){var t=require("base/base"),i=require("ui/base"),s=require("ui/object"),e=require("ui/mask"),o=$(window);return s.extend({propertys:function(){this.offsetX=0,this.offsetY=0,this.useMask=!0,this.mask=null,this.maskOpacity=!0,this.on("create",function(){this.$el.addClass("ui-layer"),this.useMask&&(this.mask=new e)}),this.on("show",function(){this.startAutoPosition(),this.useMask&&(this.mask.show(!this.maskOpacity),this.mask.topIndex()),this.updatePosition(),setTimeout(function(){this.updatePosition()}.bind(this),0),this.topIndex()}),this.on("hide",function(){this.useMask&&this.mask.hide(),this.endAutoPosition()}),this.__autoFnName=this.randFn(function(){this.emit("resize")}),this.on("resize",function(){this.updatePosition()})},initialize:function($super,t){$super(t)},setOption:function($super,i){i=i||{},$super(i),t.isNUL(i.offsetX)||(this.offsetX=i.offsetX),t.isNUL(i.offsetY)||(this.offsetY=i.offsetY),t.isNUL(i.useMask)||(this.useMask=i.useMask),t.isNUL(i.maskOpacity)||(this.maskOpacity=i.maskOpacity)},getPosInfo:function(){if(this.$el&&this.$el.length){var t=i.getOffsetByPage(this.$el[0]),s=i.getPageSize();return{top:t.top,left:t.left,width:this.$el.width(),height:this.$el.height(),pageWidth:s.width,pageHeight:s.height}}return null},updatePosition:function(){var t=this.getPosInfo();t&&this.$el.css({"margin-left":-t.width/2+this.offsetX+"px","margin-top":-t.height/2+this.offsetY+"px"})},createHTML:function(){return""},startAutoPosition:function(){o.on("resize",this[this.__autoFnName])},endAutoPosition:function(){o.off("resize",this[this.__autoFnName])},show:function($super,i){i&&!t.isNUL(i.maskOpacity)&&(this.maskOpacity=i.maskOpacity),$super(i)}})});