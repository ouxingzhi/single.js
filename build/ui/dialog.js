define("ui/dialog.js",["base/base","ui/layer"],function(require){function i(i){var s=$();return t.each(i,function(i){var e=$("<button></button>");if(e.html(i.title||""),i.click&&e.on("click",i.click.bind(this)),i.cls&&e.addClass(i.cls),i.events){var n={};t.each(i.events,function(i,t){n[t]=i.bind(this)},this),e.on(n)}s.push(e[0])},this),s}var t=require("base/base"),s=require("ui/layer"),e={};e.UI_DIALOG="ui-dialog",e.UI_DIALOG_BOX="ui-dialog-box",e.UI_DIALOG_CLOSE="ui-dialog-close",e.UI_DIALOG_PADDING="ui-dialog-padding",e.UI_DIALOG_HEAD="ui-dialog-head",e.UI_DIALOG_HEAD_TITLE="ui-dialog-head-title",e.UI_DIALOG_CONTENT="ui-dialog-content",e.UI_DIALOG_BUTTONS="ui-dialog-buttons";var n=[{title:"确认",click:function(){this.hide()}},{title:"取消",click:function(){this.hide()}}];return s.extend({propertys:function(){this.title="",this.content="",this.buttons=[],this.hideTitle=!1,this.hideClose=!1,this.doms={},this.on("create",function(){this.$el.addClass(e.UI_DIALOG),t.each(e,function(i){this.doms[i]=this.$el.find("."+i)},this),this.update()}),this.on("show",function(){this.updatePosition()})},initialize:function($super,i){$super(i)},setOption:function($super,i){i=i||{},$super(i),t.isNUL(i.title)||(this.title=i.title),t.isNUL(i.content)||(this.content=i.content),this.buttons=i.buttons&&i.buttons.length?i.buttons:n,t.isNUL(i.hideTitle)||(this.hideTitle=i.hideTitle),t.isNUL(i.hideClose)||(this.hideClose=i.hideClose)},update:function(){if(this.$el){this.hideClose?this.doms[e.UI_DIALOG_CLOSE].hide():this.doms[e.UI_DIALOG_CLOSE].show(),this.hideTitle?this.doms[e.UI_DIALOG_HEAD].hide():this.doms[e.UI_DIALOG_HEAD].show(),this.doms[e.UI_DIALOG_HEAD_TITLE].html(this.title),this.doms[e.UI_DIALOG_CONTENT].html(this.content);var t=i.call(this,this.buttons);this.doms[e.UI_DIALOG_BUTTONS].empty(),this.doms[e.UI_DIALOG_BUTTONS].append(t)}},createHTML:function(){return['<div class="'+e.UI_DIALOG_BOX+'">','<span class="'+e.UI_DIALOG_CLOSE+'"></span>','<div class="'+e.UI_DIALOG_PADDING+'">','<div class="'+e.UI_DIALOG_HEAD+'">','<span class="'+e.UI_DIALOG_HEAD_TITLE+'"></span>',"</div>",'<div class="'+e.UI_DIALOG_CONTENT+'"></div>','<div class="'+e.UI_DIALOG_BUTTONS+'"></div>',"</div>","</div>"].join("")},show:function($super,i){$super(i),i&&(this.setOption(i),this.update())}})});