define("funs",["base"],function(require,t,e){var n=(require("base"),{});return n.createAddSelf=function(t){return t=t||0,function(){return t++}},n}),define("var",function(){function t(t){if(t!==e){var r={del:function(){t=null},__proto__:n};return Object.defineProperty(r,"v",{get:function(){return t},set:function(e){t=e}}),r}}var e={},n=new t(e);return t}),define("promise",function(){function t(e){this.state=t.STATE_UNFULFILLED,this.resolveCallbacks=[],this.rejecteCallbacks=[],e&&setTimeout(function(){e(r(this.resolve,this),r(this.reject,this))},0)}var e=Array.prototype.slice,n=Array.prototype.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(t===this[e])return e;return-1},r=function(t,e){return t.bind?t.bind(e):function(){return t.apply(e,arguments)}};return t.STATE_UNFULFILLED=0,t.STATE_RESOLVED=1,t.STATE_REJECTED=2,t.prototype={constructor:t,when:function(){var r=new t,i=e.call(arguments),s=[],o=this,a=function(e){if(o.state===t.STATE_UNFULFILLED){var a=n.call(i,this);a>-1&&(i.splice(a,1),s[a]=e),i.length||(r.resolve(s),o.state=t.STATE_RESOLVED)}},u=function(){if(o.state===t.STATE_UNFULFILLED){var e=n.call(i,this);e>-1&&i.splice(e,1),i.length||(r.reject(),o.state=t.STATE_REJECTED)}};if(i.length)for(var c=0,f=i.length;f>c;c++){if(!(i[c]instanceof t))throw"when() Parameter must be a type of Promise";i[c].then(a,u)}else setTimeout(function(){o.resolve()},0);return r},then:function(n,i){var s=new t,o=this;return n&&this.resolveCallbacks.push(function(){var t=[r(s.resolve,s),r(s.reject,s)].concat(e.call(arguments));n.apply(o,t)}),i&&this.rejecteCallbacks.push(function(){{var t=[r(s.reject,s)].concat(e.call(arguments));i.apply(o,t)}}),s},resolve:function(){var e=arguments;setTimeout($.proxy(function(){if(this.state===t.STATE_UNFULFILLED){for(var n=0,r=this.resolveCallbacks.length;r>n;n++)this.resolveCallbacks[n].apply(this,e);this.state=t.STATE_RESOLVED}},this),0)},reject:function(){var e=arguments;setTimeout($.proxy(function(){if(this.state===t.STATE_UNFULFILLED){for(var n=0,r=this.rejecteCallbacks.length;r>n;n++)this.rejecteCallbacks[n].apply(this,e);this.state=t.STATE_REJECTED}},this),0)}},t}),define("object",["class","var"],function(require,t,e){var n=require("class"),r=require("var"),i=n({destruct:function(){var t;for(var e in this)this.hasOwnProperty(e)&&(t=this[e],t instanceof r&&t.del(),this[e]=null)}});return i}),define("log",function(){function t(){return"boolean"==typeof __SINGE_DEBUG__&&__SINGE_DEBUG__===!0}return{log:function(e,n){t()&&(n||(n="default"),console.log(n+": "+e))},err:function(e,n){t()&&(n||(n="default"),console.error(n+": "+e))}}}),define("hash",["object","object"],function(require,t,e){var n=require("object"),r=require("object");return n.extend({propertys:function(){this.keys=[],this.values={}},initialize:function($super,t){$super(),t=t||[];for(var e=0,n=t.length;n>e;e++)this.push(t[e].key,t[e].value)},push:function(t,e){null!==t&&void 0!==t&&(this.values[t]&&this.del(t),this.keys.push(t),this.values[t]=e)},pop:function(){var t=this.keys.pop(),e=this.values[t];return t||e?(delete this.values[t],{key:t,value:e}):null},shift:function(){var t=this.keys.shift(),e=this.values[t];return t||e?(delete this.values[t],{key:t,value:e}):null},unshift:function(t,e){null!==t&&void 0!==t&&(this.values[t]&&this.del(t),this.keys.unshift(t),this.values[t]=e)},del:function(t){var e=this.keys.indexOf(t);if(-1===e)return null;var t,n;return t=this.keys.splice(e,1),n=this.values[t],delete this.values[t],{key:t,value:n}},get:function(t){return this.values[t]},splice:function(t,e,n){"boolean"===r.type(e)&&(e=null,n=e),t||(t=0);var i=Math.max(this.keys.length-1,0);keys=this.keys.slice(),rkeys=[],n?(t=i-t,keys.reverse(),rkeys=r.isNUL(e)?keys.splice(t):keys.splice(t,e)):rkeys=r.isNUL(e)?keys.splice(t):keys.splice(t,e);var s=[],o=this;return r.each(rkeys,function(t){var e=o.del(t);e&&s.push(e)}),n&&s.reverse(),s},slice:function(t,e){t||(t=0);Math.max(this.keys.length-1,0);keys=this.keys,rkeys=r.isNUL(e)?keys.slice(t):keys.slice(t,e);var n=[],i=this;return r.each(rkeys,function(t){var e=i.get(t);e&&n.push({key:t,value:e})}),n},toString:function(){return JSON.stringify(this.slice())},valueOf:function(){return this.slice()}})}),define("event",["base","object","var"],function(require,t,e){var n=require("base"),r=require("object"),i=require("var"),s=r.extend({propertys:function(){this.__event=i({})},on:function(t,e,r,i){var s=this.__event;s.v[t]=s.v[t]||[],i&&-1!==n.indexOf(s.v[t],function(t){return e===t.fn})||s.v[t].push({fn:e,space:r})},off:function(t,e){if(!t&&!e)return this.__event.v.del(),void(this.__event=i({}));var n,r=this.__event;r.v[t]=r.v[t]||[],e?(n=ase.indexOf(r.v[t],function(t){return e===t.fn}),n>-1&&r.v[t].splice(n,1)):r.v[t]=[]},emit:function(t,e){var r=this.__event,i=this;r.v[t]=r.v[t]||[];var s=n.toArray(arguments);s.shift(),n.each(r.v[t],function(t){t.fn.apply(t.space||i,s)})}});return s}),define("class",["base"],function(require,t,e){"use strict";function n(){}function r(t,e){return t=t||n,e=e||n,function(){var n=[o.bind(t,this)].concat(o.toArray(arguments));return e.apply(this,n)}}function i(t){var e=function(){};return e.prototype=t.prototype,new e}function s(t,e){function o(){if(!(this instanceof o)){var t=i(o);return o.apply(t,arguments),t}this.propertys.apply(this,arguments),this.initialize.apply(this,arguments)}function f(){}"object"==typeof t&&(e=t,t=function(){});var l,h=t.prototype;f.prototype=t.prototype,o.prototype=new f;for(l in e)e.hasOwnProperty(l)&&c[l]!==u&&(o.prototype[l]="function"==typeof h[l]&&e[l].toString().match(a)?r(h[l],e[l]):e[l]);o.prototype.propertys=function(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}}(o.prototype.propertys,e.propertys),o.prototype.initialize=e.initialize&&e.initialize.toString().match(a)?r(h.initialize,e.initialize):e.initialize||n,o.prototype.constructor=o;for(l in t)t.hasOwnProperty(l)&&"instance"!==l&&(o[l]=t[l]);return o.extend=function(t){return s(this,t)},o.addPropertys=function(t){var e=this.prototype;for(l in t)t.hasOwnProperty(l)&&c[l]!==u&&(e[l]="function"==typeof e[l]&&t[l].toString().match(a)?r(e[l],t[l]):t[l]);return this},o.getInstance=function(){return this.instance?this.instance:(this.instance={__proto__:this.prototype},this.apply(this.instance,arguments),this.instance)},o}var o=require("base"),a=/^\s*function[^\(\)]*\(\s*\$super/,u={},c={constrcutor:u,propertys:u,initialize:u};return s}),define("base",function(){"use strict";function t(t){var e=t.split("."),n=[];return i.each(e,function(t,e){var r;t.match(o)?(r=t.split("["),i.each(r,function(t,e){t&&n.push(t.replace(/[\]"']+/g,""))})):n.push(t)}),n}var e=Array.prototype,n=e.slice,r=Object.prototype.toString,i={};i.hasProp=function(t,e){return t.hasOwnProperty(e)};var s={};i.type=function(t){if(void 0===t)return"undefined";if(null===t)return"null";var e=r.call(t);if(s[e])return s[e];var n=e.replace(/^\[object\s+|\]$/g,"").toLowerCase();return s[e]=n},i.each=function(t,e,n,r){var s,o,a=i.type(t);if("array"===a||"arguments"===a||t.length){if(r){for(s=t.length-1;s>-1;s--)if(e.call(n,t[s],s,t))return}else for(s=0,o=t.length;o>s;s++)if(e.call(n,t[s],s,t))return}else for(s in t)if(i.hasProp(t,s)&&e.call(n,t[s],s,t))return},i.mix=function(t,e,r){var s=n.call(arguments),o=s.shift()||{},r=!0;return s.length&&"boolean"===i.type(s[s.length-1])&&(r=s.pop()),i.each(s,function(t){i.each(t,function(t,e){r?o[e]=t:o[e]||(o[e]=t)})}),o},i.bind=function(t,e){return t.bind?t.bind(e):function(){return t.apply(e,arguments)}},i.toArray=function(t){try{return n.call(t)}catch(e){var r=[];return i.each(t,function(t){r.push(t)}),r}},i.indexOf=function(t,e){var n=-1,r=function(t){return t===e};return"function"==typeof e&&(r=e),i.each(t||[],function(t,e){return r(t)?(n=e,!0):void 0}),n},i.isEmpty=function(t){if(!t)return!0;var e=i.type(t);if("array"===e&&t.length)return!1;if("object"===e)for(var n in t)if(t.hasOwnProperty(n))return!1;return!0},i.isNUL=function(t){return null===t||void 0===t};var o=/\[[^\[\]]+\]/g;return i.path=function(e,n,r){var i=e;if(e&&n){var s,o,a=t(n),u=Math.max(a.length-1,0),c=0;if(void 0===r){for(;u>=c&&(o=a[c],s=e&&e[o],s);c++)e=s;return s}for(;u>=c;c++)o=a[c],u>c?e=e[o]=e[o]||{}:e[o]=r;return i}},i.delPath=function(e,n){if(e&&n){for(var r,i,s=t(n),o=Math.max(s.length-1,0),a=0;o>=a;a++)if(i=s[a],o>a){if(e=e&&e[i],!e)break}else r=e[i],delete e[i];return r}},i}),seajs.use(function(){}),define("main",["base/base","base/class","base/event"],function(){});