define("common/lrcview.js",["common/lrc"],function(require){var t=require("common/lrc"),i=t.extend({propertys:function(){this.wraper,this.box,this.offset=0,this.subbox},initialize:function($super,t){$super(t),this._initDom();var i=function(){this._stopAnima(),this._updateLrcDom(),this.pos(0);var t=this;setTimeout(function(){t._startAnima()},0)}.bind(this);this.on("update",i),i()},_setOption:function($super,t){$super(t),t.wraper&&(this.wraper=t.wraper),t.offset&&(this.offset=t.offset)},_initDom:function(){this.box=$("<div>"),this.box.css({width:"100%",height:"100%",position:"relative"}),this.subbox=$("<ul>"),this.subbox.css({width:"100%",position:"absolute",left:"0px",top:"0px"}),this.box.append(this.subbox),this.wraper.append(this.box)},_stopAnima:function(){this.subbox.removeClass("bottonbanner-fixed-anima")},_startAnima:function(){this.subbox.addClass("bottonbanner-fixed-anima")},_updateLrcDom:function(){this.subbox.empty();var t=this.getLrc();if(t&&t.lines)for(var i,s=t.lines,o=0,n=s.length;n>o;o++)i=s[o],this.subbox.append($("<li>"+i.line+"</li>").attr("data-time",i.time).attr("data-id",i.id))},_addMetaInfo:function(t,i){var s=t[0].time,o=s/4;if(i.ti)for(var n=["ti","ar","al"],e=["歌名","歌手","专辑"],a=2;a>-1;a--)t.unshift({time:1+o*a,line:e[a]+":"+(i[n[a]]||""),id:+new Date+String(Math.random()).replace(".","")})},pos:function($super,t){var i=this.box.height()/2,s=$super(t);if(s){var o=this.subbox.find('[data-id="'+s.id+'"]');o.siblings().removeClass("cur"),o.addClass("cur"),o.length&&this.subbox.css({left:"0px",top:-o[0].offsetTop+i-o.height()/2+this.offset+"px"})}},setOffset:function(t){this.offset=t},getOffset:function(){return this.offset}});return i});