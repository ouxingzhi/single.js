define("app/base.js",[],function(require){var e,n="ttpodsmm",t="js_request",a="app.",c="service",o="params",r="ack",u="callback",l="error",i="cancel",f="confirm",s=function(){var e;return function(){if(e)return e;var n=document.getElementsByTagName("body");return e=n&&n[0]}}(),p=e=function(e){var n=document.createElement("iframe");n.src=e,n.style.display="none";var t=s();t&&(t.appendChild(n),setTimeout(function(){t.removeChild(n),n=null},500))},m=function(e){var n=0;return function(){return e+n++}}((new Date).valueOf()+~~(1e8*Math.random())),d=function(){function s(e,n,t){return{fn:e,space:n,onlyone:t}}function d(e,n,t,a,c){switch(t){case u:k[e]=s(n,a,c);break;case l:b[e]=s(n,a,c);break;case i:g[e]=s(n,a,c);break;case f:w[e]=s(n,a,c);break;default:return null}}function v(e){delete e.fn,delete e.space,delete e.onlyone}function y(e){k[e]&&v(k[e]),delete k[e],b[e]&&v(b[e]),delete b[e],g[e]&&v(g[e]),delete g[e],w[e]&&v(w[e]),delete w[e]}function h(e,s,p){var v=[];v.push(c+"="+e),s&&v.push(o+"="+encodeURIComponent($.param(s))),p=p||{};var h=m();"function"==typeof p.callback&&(d(h,p.callback,u,p.space,p.onlyone),v.push(u+"="+a+u)),"function"==typeof p.error&&(d(h,p.error,l,p.space,p.onlyone),v.push(l+"="+a+l)),"function"==typeof p.cancel&&(d(h,p.cancel,i,p.space,p.onlyone),v.push(i+"="+a+i)),d(h,function(){p.confirm&&p.confirm.call(this),clearTimeout(k)},f,p.space,p.onlyone),v.push(f+"="+a+f);var k=setTimeout(function(){p.timeoutfn&&p.timeoutfn.call(p.space),y(h)},1e3*(p.timeout||30));return v.push(r+"="+h),{url:n+"://"+t+"?"+v.join("&"),ack:h}}var k={},b={},g={},w={},T=function(e,n,t){var a=e[n];t=[].slice.call(t,1),a&&(a.fn.apply(a.space||this,t),a.onlyone&&(delete e[n],a.fn=a.space=null))},j={};return j[u]=function(e){T(k,e,arguments)},j[l]=function(e){T(b,e,arguments)},j[i]=function(e){T(g,e,arguments)},j[f]=function(e){T(w,e,arguments)},window.app=j,{setSendHandle:function(n){p=n?n:e},setProtocol:function(e){n=e},create:function(e,n,t){var a=m();return d(a,e,u,n,t),a},call:function(e,n){n=n||{};var t=h(e,n.params,n);return p(t.url),t.ack},del:function(e){y(e)}}}();return d});